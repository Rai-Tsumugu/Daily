# システム要件定義書

## 1. はじめに

### 1.1 目的

本ドキュメントは、「Personal Activity Tracker (仮)」の開発におけるシステム要件を定義する。
本システムは、個人の活動記録を蓄積・分析し、日々の活動を改善することを目的とする。

### 1.2 背景

- **現状の課題:** 既存のツールやシステムでは、保存できる情報量や手軽さに限界がある。
- **開発の動機:** 「人生の情報量」を増やしたい。既存システムよりも手軽に、より多くの情報を保存・活用できる環境を構築するため。

### 1.3 対象範囲 (Scope)

- **対象 (Must):**
  - 「いつ」「どんな活動」を行っていたかの記録機能
  - 各活動記録の検索機能
  - 統計的な分析機能
  - 自分のみがアクセスできるセキュアな環境
- **推奨 (Nice to have):**
  - 直近の活動のビジュアライズ表示
  - 1日、1週間、1ヶ月、1年単位での活動ビジュアライズ
  - セキュリティの堅牢化 (暗号化など)
- **対象外 (Out of Scope):**
  - 第三者への公開機能
  - 管理者機能 (個人利用のため不要)

## 2. システム概要

### 2.1 システムの目標

- 人生の情報量を増やすこと。
- 既存システムより手軽に、大量の情報を保存・参照可能にすること。

### 2.2 想定ユーザー

| ユーザー種別  | 説明                                               |
| :------------ | :------------------------------------------------- |
| 利用者 (自分) | 全機能を利用。PCおよびスマートフォンからアクセス。 |

### 2.3 システム構成図 (アーキテクチャ)

- **プラットフォーム:** Webアプリケーション
- **クライアント:** PC (Chrome), スマートフォン (iOS Safari, Chrome)
- **サーバー:** 個人所有サーバー (オンプレミス/自宅サーバー等を想定)
- **認証:** Google Auth (外部連携)

## 3. 機能要件 (Functional Requirements)

### 3.1 機能一覧

| ID    | 機能カテゴリ | 機能名                 | 優先度 | 説明                             |
| :---- | :----------- | :--------------------- | :----- | :------------------------------- |
| F-001 | 認証         | ユーザー登録/ログイン  | 高     | Google Authを用いた認証          |
| F-002 | 活動記録     | 記録の作成・編集・削除 | 高     | 日々の活動データのCRUD操作       |
| F-003 | 活動記録     | 記録検索               | 中     | 過去の記録を検索する機能         |
| F-004 | ビジュアル   | 1日単位表示            | 高     | 1日の活動を可視化 (Timeline等)   |
| F-005 | ビジュアル   | 週/月/年単位表示       | 中     | 長期間の活動傾向を可視化         |
| F-006 | 分析         | 統計・分析表示         | 高     | 蓄積データに基づく統計情報の表示 |

### 3.2 詳細機能記述

#### 3.2.1 活動記録・管理

- **概要:** ユーザーはいつでもどこでも活動を開始・終了・記録できる。
- **入力:** 活動内容、開始日時、終了日時、タグ/カテゴリ等 (詳細要検討)
- **処理:** データベースへの保存、更新、削除
- **出力:** 保存完了メッセージ、一覧への反映

#### 3.2.2 活動の可視化

- **概要:** 蓄積されたデータをグラフやタイムラインで表示する。
- **要件:**
  - 1日単位の表示は **0.5秒以内** に描画されること。
  - インターバル（操作等のレスポンス）は **1秒以内** であること。

## 4. 非機能要件 (Non-Functional Requirements)

### 4.1 性能・パフォーマンス

- **画面描画:** 1日単位のVisual表示は0.5秒以内。
- **応答速度:** 活動記録などの操作インターバルは1秒以内。

### 4.2 可用性

- **稼働:** 24時間365日の稼働を前提とする。
- **保守:** ユーザー自身がメンテナンスを行う。

### 4.3 セキュリティ

- **認証:** Google Authを利用し、セキュアなログインを実現する。
- **データ保護:** 個人情報の暗号化を行い、データの安全性を確保する。

### 4.4 ユーザビリティ

- **対応デバイス:**
  - PC (Google Chrome)
  - Smartphone (iOS Safari, Google Chrome)
- **UI/UX:** シンプルかつ業務効率（記録効率）を重視したデザイン。

## 5. インターフェース要件

### 5.1 画面インタフェース (GUI)

- **コンセプト:** シンプルで効率重視。
- **主要画面:**
  - ダッシュボード (直近の活動、当日のタイムライン)
  - 記録入力・編集画面
  - 分析・統計画面 (週/月/年レポート)

### 5.2 外部システム連携 (API)

- **認証:** Google OAuth 2.0

## 6. データ要件

- **データ内容:** 活動記録、活動への振り返りコメントなど。
- **保存期間:** **無期限** (人生の記録として永続保存)。

## 7. 制約事項・前提条件

- **納期:** 2026年1月31日
- **予算:** 0円 (個人サーバー利用)

## 8. 技術スタック

| カテゴリ           | 技術・ライブラリ | バージョン | 備考                                |
| :----------------- | :--------------- | :--------- | :---------------------------------- |
| **基盤**           | Node.js          | v24 LTS    | Next.js 16 要件 (Node 20.9+) を充足 |
|                    | TypeScript       | 5.9.x      | Next.js 16 要件 (TS 5.1+) を充足    |
| **フロントエンド** | Next.js          | 16.1.x     | App Router 利用                     |
|                    | React / ReactDOM | 19.2.1+    | RSC 脆弱性修正済みバージョン        |
| **バックエンド**   | Supabase         |

## 9. 用語集

| 用語       | 定義                                                           |
| :--------- | :------------------------------------------------------------- |
| Visual表示 | 活動記録をグラフやタイムライン形式で視覚的に表現すること       |
| 情報量     | 本システムにおいては、記録された活動データの密度や詳細さを指す |
